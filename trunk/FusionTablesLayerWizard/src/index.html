<!DOCTYPE html>
<!--
  Copyright (c) 2012 Google Inc.
-->
<html>

  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">

    <title>FusionTablesLayer Wizard</title>

    <script
      type="text/javascript"
      src="http://maps.google.com/maps/api/js?sensor=false">
    </script>
   <script src="builder_compiled.js"></script>

<!-- To set up a working local environment, download the Closure library from
svn checkout http://closure-library.googlecode.com/svn/trunk/ closure-library

Then use these calls and comment out "builder_compiled.js" line above. 
 
    <script type="text/javascript" src="../../closure-library/closure/goog/base.js"></script>
    <script type="text/javascript" src="builder.js"></script>
	<script type="text/javascript" src="controller.js"></script>
	<script type="text/javascript" src="form.js"></script>
	<script type="text/javascript" src="html.js"></script>
	<script type="text/javascript" src="layer.js"></script>
	<script type="text/javascript" src="map.js"></script>
	<script type="text/javascript" src="search.js"></script>
--> 

    <link rel="stylesheet" href="style.css" type="text/css"></link>

  </head>

  <body>

    <h1>FusionTablesLayer Wizard</h1>

    <p>
      Use this wizard with Google Fusion Tables to create maps with multiple layers
      or a search feature. The HTML and javascript generated by the wizard also 
      offer a great way to get started using
      <a href="https://developers.google.com/maps/documentation/javascript/layers#FusionTables">
      FusionTablesLayers</a> in the Google Maps API.
    </p>
    <p>After creating a map, copy and paste the HTML code in the text area
      below to display the map on your own website. Or you can
      <a href="embed_google_site.html">embed this code in Google Sites</a>.
    </p> 
    <p>Please submit bug reports to our 
      <a href="http://code.google.com/p/fusiontableslayer-builder/issues/list">
      Issue Tracker</a>.
    </p>

    <div id="form-div">
      <h2>
        1. Add map layers
      </h2>
      <p class="note">
        The table needs to be 
        <a href="http://support.google.com/fusiontables/bin/answer.py?hl=en&answer=171221">
        <b>accessible and exportable</b></a>.</p>
        <p class="note">
        To find the table id, click <b>File &gt; About</b> in the Fusion
        Tables menu.
        </p>
        <p class="note">
        To find the style ID and template ID, click <b>Tools &gt; Publish</b>. 
        Look at the end of either textbox. For Style ID, use the number 
        following "y=". For Template ID, use the number following "tmplt=".
      </p>
      <div id="layer-forms"></div>
      <div class="form-element">
        <input type="button" id="add-layer" value="Add Layer">
      </div>

      <h2>
        2. Set map size and zoom
      </h2>

      <div class="form-element">
        Zoom and pan the preview map as you'd like it to appear.
      </div>
      <div class="form-element">
        <label>
          Dimensions:
        </label>
        <div class="right">
          Width: <input type="text" id="map-width" class="short-input"> px,
          Height: <input type="text" id="map-height" class="short-input"> px
        </div>
      </div>
      <div class="form-element" style="display:None">
        <label>
          Map Center:
        </label>
        <input type="text" id="map-center" class="right" disabled="disabled">
      </div>
      <div class="form-element" style="display:None">
        <label>
          Zoom:
        </label>
        <input type="text" id="map-zoom" class="right" disabled="disabled">
      </div>
      <div class="form-element">
        <input type="button" id="edit-map" value="Update Map" class="right">
      </div>
      
      <h2>
        3. Style base map
      </h2>
      <div class="form-element">
        <label>
          Show:
        </label>
        <div class="right">
          <div class="right">
            <input type="checkbox" id="all-features" checked="checked">
            <label>
              All features
            </label><br>
            <a id="specs">
              More options
            </a>
          </div>
        </div>
        <div class="clear">
          <form id="specform" class="hide">
            <div class="left right-padding">
              <b>
                Roads
              </b><br>
              <input type="checkbox" name="specs" id="road.highway"
                checked="checked">
              <label>
                Highways
              </label><br>
              <input type="checkbox" name="specs" id="road.arterial"
                checked="checked">
              <label>
                Arterial
              </label><br>
              <input type="checkbox" name="specs" id="road.local"
                checked="checked">
              <label>
                Local
              </label>
            </div>
            <div class="left right-padding">
              <b>
                Administrative
              </b><br>
              <input type="checkbox" name="specs" id="administrative.country"
                checked="checked">
              <label>
                Country
              </label><br>
              <input type="checkbox" name="specs" id="administrative.province"
                checked="checked">
              <label>
                Province
              </label><br>
              <input type="checkbox" name="specs" id="administrative.locality"
                checked="checked">
              <label>
                Locality
              </label><br>
              <input type="checkbox" name="specs" id="administrative.neighborhood"
                checked="checked">
              <label>
                Neighborhood
              </label><br>
              <input type="checkbox" name="specs" id="administrative.land_parcel"
                checked="checked">
              <label>
                Land parcel
              </label>
            </div>
            <div class="left">
              <b>
                Other
              </b><br>
              <input type="checkbox" name="specs" id="poi" checked="checked">
              <label>
                Point of Interest
              </label><br>
              <input type="checkbox" name="specs" id="transit"
                  checked="checked">
              <label>
                Transit
              </label>
            </div>
          </form>
        </div>
      </div><br>
      <div class="form-element">
        <label>
          Saturation:
        </label>
        <div class="right">
          <div class="left">
            Gray&nbsp;
          </div>
          <div id="slider" class="goog-slider left">
            <div class="goog-slider-thumb"></div> 
          </div>
          <div class="left">
            &nbsp;Bright
          </div>
        </div>
      </div>
    </div>

    <div id="map-section" class="left">
      <h2 class="map-preview">
        Preview
      </h2>
      <div id="map-canvas"></div>
      <div id="search"></div>
    </div>

    <div class="clear">
      <h2>
       4. Your HTML
      </h2>
          <p class="note">
      This code uses the Google Maps JavaScript API v3, which has it's own 
      <a href="http://code.google.com/apis/maps/faq.html#usagelimits">usage
      limits</a> and
      <a href="http://googlegeodevelopers.blogspot.com/2011/04/updates-to-google-maps-apigoogle-earth.html">
      TOS</a>. For background,
      see the
      <a href="http://googlegeodevelopers.blogspot.com/2011/11/understanding-how-maps-api-usage-limits.html">
      Google Geo Developers blog</a>.
    </p>

      <textarea id="html-code"></textarea>
    </div>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-9117623-10']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ?
            'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>

</html>
