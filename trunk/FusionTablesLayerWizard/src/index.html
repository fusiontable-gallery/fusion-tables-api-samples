<!DOCTYPE html>
<!--
  Copyright (c) 2011 Google Inc.
-->
<html>

  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">

    <title>FusionTablesLayer Wizard</title>

    <script
      type="text/javascript"
      src="http://maps.google.com/maps/api/js?sensor=false">
    </script>
    <script type="text/javascript" src="builder_compiled.js"></script>
    <link rel="stylesheet" href="style.css" type="text/css"></link>

  </head>

  <body>

    <h1>FusionTablesLayer Wizard</h1>

    <p>
      This wizard helps you create the HTML for a map with a FusionTablesLayer
      and search element (either text-based search or select menu). After
      creating your map, you can copy and paste the HTML code in the text area
      below to display the map on your own website. Please submit bug reports
      to our 
      <a href="http://code.google.com/p/fusiontableslayer-builder/issues/list">
      Issue Tracker</a>
    </p>
    <p>
      Note: This code uses the Google Maps API and is therefore subject to the
      same <a href="http://code.google.com/apis/maps/faq.html#usagelimits">usage
      limits</a> and
      <a href="http://googlegeodevelopers.blogspot.com/2011/04/updates-to-google-maps-apigoogle-earth.html">
      TOS</a> as any other use of the Maps API. For details,
      see the
      <a href="http://googlegeodevelopers.blogspot.com/2011/11/understanding-how-maps-api-usage-limits.html">
      Google Geo Developers blog</a>.
    </p>
    <p>
      Want to embed this code in Google Sites? See the instructions
      <a href="embed_google_site.html">here</a>.
    </p>

    <div id="form-div">
      <h2>
        Add layer
      </h2>
      <p class="note">
        The table needs to be <b>public or unlisted and exportable</b>.
        To find the table id, click <b>File &gt; About</b> in the Fusion
        Tables menu.
      </p>
      <div class="form-element">
        <label>
          Table id:
        </label>
        <input type="text" id="table-id" class="right">
      </div>
      <div class="form-element">
        <label>
          Location Column:
        </label>
        <select id="location-column" class="right" disabled="disabled">
          <option value="">
            --Select--
          </option>
        </select>
      </div>
      <div class="form-element">
        <label>
          Filter (optional):
        </label>
        <div class="right">
          <label>
            WHERE
          </label>
          <input type="text" id="filter">
        </div>
      </div>
      <div class="form-element">
        <input type="button" id="add-layer" value="Add Layer" class="right">
      </div>

      <h2>
        Edit Map
      </h2>
      <div class="form-element">
        <label>
          Dimensions:
        </label>
        <div class="right">
          W: <input type="text" id="mapwidth" class="short-input"> px,
          H: <input type="text" id="mapheight" class="short-input"> px
        </div>
      </div>
      <div class="form-element">
        <label>
          Map Center:
        </label>
        <input type="text" id="map-center" class="right">
      </div>
      <div class="form-element">
        <label>
          Zoom:
        </label>
        <input type="text" id="map-zoom" class="right">
      </div>
      <div class="form-element">
        <input type="button" id="edit-map" value="Update Map" class="right">
      </div>

      <h2>
        Style Map
      </h2>
      <p class="note">
        Style Map options qualify for stricter Maps API
        <a href="http://code.google.com/apis/maps/faq.html#usagelimits">usage
        limits</a>.
      </p>
      <div class="form-element">
        <label>
          Show:
        </label>
        <div class="right">
          <div class="right">
            <input type="checkbox" id="all-features" checked="checked">
            <label>
              All features
            </label><br>
            <a id="specs">
              More options
            </a>
          </div>
        </div>
        <div class="clear">
          <form id="specform" class="hide">
            <div class="left right-padding">
              <b>
                Roads
              </b><br>
              <input type="checkbox" name="specs" id="road.highway"
                checked="checked">
              <label>
                Highways
              </label><br>
              <input type="checkbox" name="specs" id="road.arterial"
                checked="checked">
              <label>
                Arterial
              </label><br>
              <input type="checkbox" name="specs" id="road.local"
                checked="checked">
              <label>
                Local
              </label>
            </div>
            <div class="left right-padding">
              <b>
                Administrative
              </b><br>
              <input type="checkbox" name="specs" id="administrative.country"
                checked="checked">
              <label>
                Country
              </label><br>
              <input type="checkbox" name="specs" id="administrative.province"
                checked="checked">
              <label>
                Province
              </label><br>
              <input type="checkbox" name="specs" id="administrative.locality"
                checked="checked">
              <label>
                Locality
              </label><br>
              <input type="checkbox" name="specs" id="administrative.neighborhood"
                checked="checked">
              <label>
                Neighborhood
              </label><br>
              <input type="checkbox" name="specs" id="administrative.land_parcel"
                checked="checked">
              <label>
                Land parcel
              </label>
            </div>
            <div class="left">
              <b>
                Other
              </b><br>
              <input type="checkbox" name="specs" id="poi" checked="checked">
              <label>
                Point of Interest
              </label><br>
              <input type="checkbox" name="specs" id="transit" checked="checked">
              <label>
                Transit
              </label>
            </div>
          </form>
        </div>
      </div><br>
      <div class="form-element">
        <label>
          Saturation:
        </label>
        <div class="right">
          <div class="left">
            Gray&nbsp;
          </div>
          <div id="slider" class="goog-slider left">
            <div class="goog-slider-thumb"></div> 
          </div>
          <div class="left">
            &nbsp;Bright
          </div>
        </div>
      </div>

      <h2>
        Add another feature
      </h2>
      <p class="note">
        You can add a second layer with this wizard, but you can edit the
        HTML code to have up to five layers, although you can only have styling
        on one layer.
      </p>
      <select id="add-feature">
        <option value="">
          --SELECT--
        </option>
        <option value="layer">
          Another layer
        </option>
        <option value="text">
          Text-based search
        </option>
        <option value="select">
          Select-menu search
        </option>
      </select><br><br>

      <div id="layer" class="clear hide">
        <form>
          <div class="form-element">
            <label>
              Second table id:
            </label>
            <input type="text" id="second-table-id" class="right">
          </div>
          <div class="form-element">
            <label>
              Location Column:
            </label>
            <select id="second-location-column" class="right" disabled="disabled">
              <option value="">
                --Select--
              </option>
            </select>
          </div>
          <div class="form-element">
            <label>
              Filter (optional):
            </label>
            <div class="right">
              <label>
                WHERE
              </label>
              <input type="text" id="second-filter">
            </div>
          </div>
          <div class="form-element text-right">
            <input type="button" value="Add Layer" id="add-second-layer">
            <input type="reset" value="Reset" id="reset-layer">
          </div>
        </form>
      </div>

      <div id="text" class="clear hide">
        <form>
          <div class="form-element">
            <label>
              Text Label:
            </label>
            <input type="text" id="text-query-label" class="right">
          </div>
          <div class="form-element">
            <label>
              Column to query:
            </label>
            <select id="text-query-column" class="right" disabled="true">
              <option selected="selected" value="">
                --Select--
              </option>
            </select>
          </div>
          <div class="form-element text-right">
            <input type="button" id="add-text-query" value="Add Search">
            <input type="reset" value="Reset" id="reset-text-search">
          </div>
        </form>
      </div>

      <div id="select" class="clear hide">
        <form>
          <div class="form-element">
            <label>
              Select Label:
            </label>
            <input type="text" id="select-query-label" class="right">
          </div>
          <div class="form-element">
            <label>
              Column to query:
            </label>
            <select id="select-query-column" class="right" disabled="true">
              <option selected="selected" value="">
                --Select--
              </option>
            </select>
          </div>
          <div class="form-element text-right">
            <input type="button" id="add-select-query" value="Add Search">
            <input type="reset" value="Reset" id="reset-select-search">
          </div>
        </form>
      </div>
    </div>

    <div id="map-section" class="left">
      <h2>
        Preview
      </h2>
      <div id="map-canvas"></div>
    </div>

    <div class="clear">
      <h2>
        Your HTML
      </h2>
      <textarea id="html-code"></textarea>
    </div>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-12846745-15']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>

  </body>

</html>
